
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A 45-day learning plan covering essential backend concepts with beginner-friendly notes and Java examples.">
      
      
      
        <link rel="canonical" href="https://Arun-Labana.github.io/backend/05.%20Rate%20Limiting%20%26%20Throttling/">
      
      
        <link rel="prev" href="../04.%20Load%20Balancing/">
      
      
        <link rel="next" href="../06.%20Horizontal%20vs%20Vertical%20Scaling/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>05. Rate Limiting & Throttling - 45 Days Backend Concepts</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rate-limiting-throttling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="45 Days Backend Concepts" class="md-header__button md-logo" aria-label="45 Days Backend Concepts" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            45 Days Backend Concepts
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              05. Rate Limiting & Throttling
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Arun-Labana/backend" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Arun-Labana/backend
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="45 Days Backend Concepts" class="md-nav__button md-logo" aria-label="45 Days Backend Concepts" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    45 Days Backend Concepts
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Arun-Labana/backend" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Arun-Labana/backend
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Days
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Days
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01.%20Connection%20Pooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    01. Connection Pooling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02.%20Idempotency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02. Idempotency
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03.%20Caching%20%28In-Memory%20vs%20Distributed%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03. Caching (In-Memory vs Distributed)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04.%20Load%20Balancing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04. Load Balancing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    05. Rate Limiting & Throttling
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    05. Rate Limiting & Throttling
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-rate-limiting-and-throttling" class="md-nav__link">
    <span class="md-ellipsis">
      What is Rate Limiting and Throttling?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-are-rate-limiting-and-throttling-important" class="md-nav__link">
    <span class="md-ellipsis">
      Why are Rate Limiting and Throttling Important?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Why are Rate Limiting and Throttling Important?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protecting-against-abuse-and-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      Protecting Against Abuse and Attacks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensuring-fair-resource-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Ensuring Fair Resource Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-operational-costs" class="md-nav__link">
    <span class="md-ellipsis">
      Controlling Operational Costs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintaining-system-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Maintaining System Performance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-rate-limiting-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Common Rate Limiting Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Rate Limiting Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-bucket-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Token Bucket Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-window-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Window Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sliding-window-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Sliding Window Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaky-bucket-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Leaky Bucket Algorithm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Real-World Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-World Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api-protection" class="md-nav__link">
    <span class="md-ellipsis">
      API Protection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-checkout-protection" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Checkout Protection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-management-and-user-generated-content" class="md-nav__link">
    <span class="md-ellipsis">
      Content Management and User-Generated Content
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-example" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-interview-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Common Interview Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-levels-of-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      Different Levels of Rate Limiting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Different Levels of Rate Limiting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-level-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      User-Level Rate Limiting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-based-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      IP-Based Rate Limiting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      Global Rate Limiting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-appropriate-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Choose Appropriate Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-clear-error-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Provide Clear Error Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      Implement Graceful Degradation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-and-alert" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor and Alert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consider-dynamic-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Consider Dynamic Limits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06.%20Horizontal%20vs%20Vertical%20Scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06. Horizontal vs Vertical Scaling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07.%20Stateless%20vs%20Stateful%20Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07. Stateless vs Stateful Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08.%20Transactions%20%28ACID%20properties%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08. Transactions (ACID properties)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../09.%20Indexes%20%28B-Tree%2C%20Hash%2C%20etc.%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09. Indexes (B-Tree, Hash, etc.)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../10.%20Joins%20%26%20Query%20Optimization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10. Joins & Query Optimization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../11.%20Normalization%20vs%20Denormalization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11. Normalization vs Denormalization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../12.%20Sharding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12. Sharding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../13.%20Replication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13. Replication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../14.%20CAP%20Theorem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14. CAP Theorem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../15.%20REST%20APIs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15. REST APIs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../16.%20GraphQL%20Basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16. GraphQL Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../17.%20gRPC%20%26%20Protocol%20Buffers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17. gRPC & Protocol Buffers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../18.%20WebSockets%20%28Realtime%20communication%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    18. WebSockets (Realtime communication)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../19.%20Message%20Queues%20%28RabbitMQ%2C%20Kafka%2C%20SQS%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    19. Message Queues (RabbitMQ, Kafka, SQS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../20.%20Event-driven%20Architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20. Event-driven Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../21.%20API%20Gateway/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    21. API Gateway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../22.%20Circuit%20Breaker%20Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    22. Circuit Breaker Pattern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../23.%20Retry%20%26%20Backoff%20Strategies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    23. Retry & Backoff Strategies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../24.%20Dead%20Letter%20Queues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    24. Dead Letter Queues
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../25.%20Distributed%20Locks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    25. Distributed Locks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../26.%20Leader%20Election/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    26. Leader Election
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../27.%20Consensus%20Algorithms%20%28Raft%2C%20Paxos%20basics%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    27. Consensus Algorithms (Raft, Paxos basics)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../28.%20Quorum%20in%20Databases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    28. Quorum in Databases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../29.%20Authentication%20vs%20Authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    29. Authentication vs Authorization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../30.%20JWT%20%26%20OAuth2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    30. JWT & OAuth2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../31.%20CSRF%20%26%20XSS%20Protection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    31. CSRF & XSS Protection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../32.%20SQL%20Injection%20%26%20Prevention/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    32. SQL Injection & Prevention
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../33.%20HTTPS%20%26%20TLS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    33. HTTPS & TLS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../34.%20CORS%20%28Cross-Origin%20Resource%20Sharing%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    34. CORS (Cross-Origin Resource Sharing)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../35.%20Hashing%20%26%20Password%20Storage%20%28bcrypt%2C%20Argon2%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    35. Hashing & Password Storage (bcrypt, Argon2)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../36.%20Logging%20Strategies%20%28Structured%20Logging%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    36. Logging Strategies (Structured Logging)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../37.%20Metrics%20%26%20Monitoring%20%28Prometheus%2C%20Grafana%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    37. Metrics & Monitoring (Prometheus, Grafana)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../38.%20Tracing%20%28Distributed%20Tracing%2C%20OpenTelemetry%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    38. Tracing (Distributed Tracing, OpenTelemetry)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../39.%20Health%20Checks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    39. Health Checks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../40.%20Profiling%20%26%20Benchmarking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    40. Profiling & Benchmarking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../41.%20Error%20Handling%20Patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    41. Error Handling Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../42.%20Blue-Green%20%26%20Canary%20Deployments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    42. Blue-Green & Canary Deployments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../43.%20CQRS%20%28Command%20Query%20Responsibility%20Segregation%29/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    43. CQRS (Command Query Responsibility Segregation)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../44.%20Event%20Sourcing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    44. Event Sourcing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../45.%20Microservices%20vs%20Monoliths%20vs%20Serverless/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    45. Microservices vs Monoliths vs Serverless
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-rate-limiting-and-throttling" class="md-nav__link">
    <span class="md-ellipsis">
      What is Rate Limiting and Throttling?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#why-are-rate-limiting-and-throttling-important" class="md-nav__link">
    <span class="md-ellipsis">
      Why are Rate Limiting and Throttling Important?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Why are Rate Limiting and Throttling Important?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protecting-against-abuse-and-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      Protecting Against Abuse and Attacks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensuring-fair-resource-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Ensuring Fair Resource Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-operational-costs" class="md-nav__link">
    <span class="md-ellipsis">
      Controlling Operational Costs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maintaining-system-performance" class="md-nav__link">
    <span class="md-ellipsis">
      Maintaining System Performance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-rate-limiting-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      Common Rate Limiting Algorithms
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Rate Limiting Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#token-bucket-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Token Bucket Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-window-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed Window Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sliding-window-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Sliding Window Algorithm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaky-bucket-algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      Leaky Bucket Algorithm
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Real-World Applications
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Real-World Applications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api-protection" class="md-nav__link">
    <span class="md-ellipsis">
      API Protection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-commerce-checkout-protection" class="md-nav__link">
    <span class="md-ellipsis">
      E-commerce Checkout Protection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-management-and-user-generated-content" class="md-nav__link">
    <span class="md-ellipsis">
      Content Management and User-Generated Content
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-example" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-interview-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Common Interview Questions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-levels-of-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      Different Levels of Rate Limiting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Different Levels of Rate Limiting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-level-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      User-Level Rate Limiting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-based-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      IP-Based Rate Limiting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-rate-limiting" class="md-nav__link">
    <span class="md-ellipsis">
      Global Rate Limiting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#choose-appropriate-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Choose Appropriate Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provide-clear-error-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Provide Clear Error Messages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implement-graceful-degradation" class="md-nav__link">
    <span class="md-ellipsis">
      Implement Graceful Degradation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitor-and-alert" class="md-nav__link">
    <span class="md-ellipsis">
      Monitor and Alert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consider-dynamic-limits" class="md-nav__link">
    <span class="md-ellipsis">
      Consider Dynamic Limits
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/Arun-Labana/backend/edit/master/docs/05. Rate Limiting & Throttling/README.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="rate-limiting-throttling">Rate Limiting &amp; Throttling<a class="headerlink" href="#rate-limiting-throttling" title="Permanent link">&para;</a></h1>
<h2 id="what-is-rate-limiting-and-throttling">What is Rate Limiting and Throttling?<a class="headerlink" href="#what-is-rate-limiting-and-throttling" title="Permanent link">&para;</a></h2>
<p>Rate limiting and throttling are essential security and performance mechanisms that control how frequently users or systems can make requests to your application or API. Think of rate limiting like a bouncer at a popular nightclub who ensures that only a certain number of people can enter within a specific time period to prevent overcrowding. Similarly, rate limiting prevents your system from being overwhelmed by too many requests in a short timeframe, whether those requests come from legitimate users, automated systems, or malicious actors.</p>
<p>While the terms are often used interchangeably, there's a subtle difference: rate limiting typically refers to hard limits that reject requests once a threshold is exceeded, while throttling can involve slowing down or delaying requests rather than outright rejecting them. Both techniques are crucial for maintaining system stability, ensuring fair resource usage, and protecting against various types of attacks.</p>
<h2 id="why-are-rate-limiting-and-throttling-important">Why are Rate Limiting and Throttling Important?<a class="headerlink" href="#why-are-rate-limiting-and-throttling-important" title="Permanent link">&para;</a></h2>
<h3 id="protecting-against-abuse-and-attacks">Protecting Against Abuse and Attacks<a class="headerlink" href="#protecting-against-abuse-and-attacks" title="Permanent link">&para;</a></h3>
<p>One of the primary purposes of rate limiting is to protect your system from malicious attacks. Distributed Denial of Service (DDoS) attacks, brute force login attempts, and API abuse all involve sending massive numbers of requests to overwhelm your system. Without rate limiting, attackers could easily crash your servers, exhaust your resources, or make your application unavailable to legitimate users.</p>
<p>For example, imagine an attacker trying to guess passwords by making thousands of login attempts per second. Without rate limiting, this could not only potentially compromise user accounts but also overload your authentication system, making it impossible for legitimate users to log in. Rate limiting can detect this abnormal behavior and temporarily block or slow down requests from suspicious sources.</p>
<h3 id="ensuring-fair-resource-usage">Ensuring Fair Resource Usage<a class="headerlink" href="#ensuring-fair-resource-usage" title="Permanent link">&para;</a></h3>
<p>In systems serving multiple users or tenants, rate limiting ensures that no single user can monopolize resources at the expense of others. This is particularly important for APIs, where one misbehaving client application could make thousands of requests per second, degrading performance for all other users. Rate limiting implements a fair usage policy that guarantees equitable access to system resources.</p>
<p>Consider a social media platform where users can upload photos. Without rate limiting, a user with a bulk upload tool could upload thousands of photos simultaneously, consuming all available bandwidth and processing power, while other users experience slow or failed uploads. Rate limiting ensures that each user gets a fair share of the system's capacity.</p>
<h3 id="controlling-operational-costs">Controlling Operational Costs<a class="headerlink" href="#controlling-operational-costs" title="Permanent link">&para;</a></h3>
<p>Many modern applications rely on external APIs and cloud services that charge based on usage. Without proper rate limiting, a coding error, automated script, or malicious attack could result in unexpected usage spikes that lead to enormous bills. Rate limiting acts as a financial safety net, preventing runaway costs from API calls, database operations, or cloud resource consumption.</p>
<p>For instance, if your application integrates with a mapping service that charges per geocoding request, a bug that causes infinite retry loops could generate millions of requests and result in thousands of dollars in unexpected charges. Rate limiting would catch this abnormal behavior and prevent the financial damage.</p>
<h3 id="maintaining-system-performance">Maintaining System Performance<a class="headerlink" href="#maintaining-system-performance" title="Permanent link">&para;</a></h3>
<p>Even legitimate traffic can overwhelm a system if it arrives faster than the system can process it. Rate limiting helps maintain consistent performance by ensuring that incoming request rates stay within the system's capacity to handle them effectively. This prevents cascading failures where overloaded components start failing, causing other components to retry their requests, further increasing the load.</p>
<h2 id="common-rate-limiting-algorithms">Common Rate Limiting Algorithms<a class="headerlink" href="#common-rate-limiting-algorithms" title="Permanent link">&para;</a></h2>
<h3 id="token-bucket-algorithm">Token Bucket Algorithm<a class="headerlink" href="#token-bucket-algorithm" title="Permanent link">&para;</a></h3>
<p>The token bucket algorithm is one of the most popular and flexible rate limiting approaches. Imagine a bucket that holds tokens, with new tokens being added at a steady rate up to the bucket's capacity. Each request consumes one token from the bucket. If the bucket is empty, requests are either rejected or delayed until tokens become available.</p>
<p>This algorithm allows for short bursts of traffic above the average rate, as long as there are tokens in the bucket. For example, if your API normally allows 100 requests per minute, the token bucket might hold 10 tokens and refill at a rate of 100 tokens per minute. This means a client could make 10 requests instantly if they haven't made any requests recently, but then would need to wait for tokens to refill for subsequent requests.</p>
<h3 id="fixed-window-algorithm">Fixed Window Algorithm<a class="headerlink" href="#fixed-window-algorithm" title="Permanent link">&para;</a></h3>
<p>The fixed window algorithm divides time into fixed intervals (like minutes or hours) and allows a specific number of requests within each window. At the start of each new window, the request counter resets to zero. This approach is simple to implement and understand, making it popular for basic rate limiting needs.</p>
<p>However, the fixed window approach has a significant limitation: it can allow twice the intended rate at window boundaries. For example, if you allow 100 requests per minute, a client could make 100 requests at 11:59 AM and another 100 requests at 12:00 PM, effectively achieving 200 requests per minute around the boundary.</p>
<h3 id="sliding-window-algorithm">Sliding Window Algorithm<a class="headerlink" href="#sliding-window-algorithm" title="Permanent link">&para;</a></h3>
<p>The sliding window algorithm addresses the boundary problem of fixed windows by maintaining a rolling time window. Instead of resetting counters at fixed intervals, it continuously tracks the number of requests made in the last N minutes/seconds. This provides more consistent rate limiting but requires more memory and computational overhead to track request timestamps.</p>
<h3 id="leaky-bucket-algorithm">Leaky Bucket Algorithm<a class="headerlink" href="#leaky-bucket-algorithm" title="Permanent link">&para;</a></h3>
<p>The leaky bucket algorithm is similar to token bucket but processes requests at a steady rate regardless of how fast they arrive. Requests are added to a queue (the bucket), and they're processed at a constant rate. If the bucket overflows, additional requests are discarded. This algorithm smooths out traffic bursts and ensures a steady processing rate, making it ideal for systems that need predictable load patterns.</p>
<h2 id="real-world-applications">Real-World Applications<a class="headerlink" href="#real-world-applications" title="Permanent link">&para;</a></h2>
<h3 id="api-protection">API Protection<a class="headerlink" href="#api-protection" title="Permanent link">&para;</a></h3>
<p>Modern web applications often expose APIs for mobile apps, third-party integrations, and internal services. These APIs are valuable targets for abuse, and rate limiting is essential for their protection. A well-designed API rate limiting strategy might include different limits for different types of operations - perhaps 1000 requests per hour for data retrieval but only 100 requests per hour for data modification operations.</p>
<p>Social media platforms like Twitter implement sophisticated rate limiting for their APIs. They might allow applications to read tweets at a higher rate than they can post tweets, and they differentiate between authenticated and unauthenticated requests. This protects their infrastructure while enabling legitimate use cases like data analysis and third-party applications.</p>
<h3 id="e-commerce-checkout-protection">E-commerce Checkout Protection<a class="headerlink" href="#e-commerce-checkout-protection" title="Permanent link">&para;</a></h3>
<p>During flash sales or product launches, e-commerce websites can experience massive traffic spikes as customers rush to purchase limited-quantity items. Without proper rate limiting, these spikes can crash the checkout system, resulting in lost sales and frustrated customers. Rate limiting can be applied at various levels - limiting how many checkout attempts a single user can make, how many payment processing requests can be made per second, or how many inventory checks can be performed.</p>
<h3 id="content-management-and-user-generated-content">Content Management and User-Generated Content<a class="headerlink" href="#content-management-and-user-generated-content" title="Permanent link">&para;</a></h3>
<p>Platforms that allow users to create content need rate limiting to prevent spam and abuse. A blogging platform might limit users to publishing 10 posts per day, while a comment system might allow only 5 comments per minute. These limits prevent spam while allowing legitimate users to interact normally with the platform.</p>
<h2 id="implementation-example">Implementation Example<a class="headerlink" href="#implementation-example" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TokenBucketRateLimiter</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">capacity</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">refill_rate</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">capacity</span> <span class="o">=</span> <span class="n">capacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refill_rate</span> <span class="o">=</span> <span class="n">refill_rate</span>  <span class="c1"># tokens per second</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;tokens&#39;</span><span class="p">:</span> <span class="n">capacity</span><span class="p">,</span> <span class="s1">&#39;last_refill&#39;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()})</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">is_allowed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">):</span>
        <span class="n">bucket</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">buckets</span><span class="p">[</span><span class="n">identifier</span><span class="p">]</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

        <span class="c1"># Refill tokens based on time elapsed</span>
        <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;last_refill&#39;</span><span class="p">]</span>
        <span class="n">tokens_to_add</span> <span class="o">=</span> <span class="n">time_elapsed</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">refill_rate</span>
        <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">capacity</span><span class="p">,</span> <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">tokens_to_add</span><span class="p">)</span>
        <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;last_refill&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">now</span>

        <span class="c1"># Check if request is allowed</span>
        <span class="k">if</span> <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">bucket</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Usage example</span>
<span class="n">limiter</span> <span class="o">=</span> <span class="n">TokenBucketRateLimiter</span><span class="p">(</span><span class="n">capacity</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">refill_rate</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">api_endpoint</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">limiter</span><span class="o">.</span><span class="n">is_allowed</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Rate limit exceeded&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">429</span><span class="p">}</span>

    <span class="c1"># Process the request</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;Success&quot;</span><span class="p">,</span> <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
</code></pre></div>

<h2 id="common-interview-questions">Common Interview Questions<a class="headerlink" href="#common-interview-questions" title="Permanent link">&para;</a></h2>
<p><strong>Q: What is rate limiting and why is it important?</strong></p>
<p>Rate limiting is a technique that controls the number of requests a user or system can make to an application within a specified time period. It's important for several reasons: protecting against DDoS attacks and abuse, ensuring fair resource allocation among users, maintaining system performance under high load, and controlling operational costs from external API usage. Without rate limiting, a single user or attacker could overwhelm the system, degrading performance for everyone or causing complete service outages.</p>
<p><strong>Q: Explain the difference between rate limiting and throttling.</strong></p>
<p>While often used interchangeably, rate limiting and throttling have subtle differences. Rate limiting typically involves hard limits that reject requests once a threshold is exceeded, returning error responses like HTTP 429. Throttling can involve slowing down or delaying requests rather than rejecting them outright. For example, rate limiting might block the 101st request in a minute, while throttling might allow it but introduce a delay. Both serve similar purposes but handle excess requests differently.</p>
<p><strong>Q: What are the main rate limiting algorithms and their trade-offs?</strong></p>
<p>The main algorithms are: Token Bucket (allows bursts, flexible, more complex), Fixed Window (simple, but can allow double rates at boundaries), Sliding Window (smooth rate limiting, higher memory usage), and Leaky Bucket (steady processing rate, can delay requests). Token bucket is most popular for APIs because it allows natural usage bursts while maintaining overall rate control. Fixed window is simplest for basic needs, while sliding window provides the most consistent limiting but requires more resources.</p>
<p><strong>Q: How would you implement rate limiting in a distributed system?</strong></p>
<p>In distributed systems, rate limiting requires centralized state management since multiple servers need to coordinate limits. Common approaches include using Redis with atomic operations to track request counts, implementing rate limiting at the API gateway or load balancer level, or using distributed rate limiting services. The key is ensuring all servers can quickly check and update shared rate limit counters. Redis is popular because it provides fast atomic operations and can be configured for high availability across multiple nodes.</p>
<h2 id="different-levels-of-rate-limiting">Different Levels of Rate Limiting<a class="headerlink" href="#different-levels-of-rate-limiting" title="Permanent link">&para;</a></h2>
<h3 id="user-level-rate-limiting">User-Level Rate Limiting<a class="headerlink" href="#user-level-rate-limiting" title="Permanent link">&para;</a></h3>
<p>User-level rate limiting applies limits based on individual user accounts or API keys. This is the most common form of rate limiting for applications with authenticated users. Different user tiers might have different limits - premium users might get higher rate limits than free users, or administrative users might have special exemptions.</p>
<h3 id="ip-based-rate-limiting">IP-Based Rate Limiting<a class="headerlink" href="#ip-based-rate-limiting" title="Permanent link">&para;</a></h3>
<p>IP-based rate limiting tracks requests from specific IP addresses, which is useful for protecting against anonymous attacks or controlling access from unauthenticated users. However, this approach has limitations - multiple users behind a corporate firewall share the same IP address, and attackers can easily use multiple IP addresses to bypass limits.</p>
<h3 id="global-rate-limiting">Global Rate Limiting<a class="headerlink" href="#global-rate-limiting" title="Permanent link">&para;</a></h3>
<p>Global rate limiting applies system-wide limits regardless of the source. This protects the overall system capacity and ensures that total load doesn't exceed what the infrastructure can handle. Global limits are often used in combination with user-level limits to provide multiple layers of protection.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="choose-appropriate-limits">Choose Appropriate Limits<a class="headerlink" href="#choose-appropriate-limits" title="Permanent link">&para;</a></h3>
<p>Setting rate limits requires balancing security and usability. Limits should be high enough to accommodate legitimate use cases but low enough to prevent abuse. Monitor actual usage patterns to understand normal behavior and set limits accordingly. Consider different limits for different types of operations - read operations might have higher limits than write operations.</p>
<h3 id="provide-clear-error-messages">Provide Clear Error Messages<a class="headerlink" href="#provide-clear-error-messages" title="Permanent link">&para;</a></h3>
<p>When rate limits are exceeded, provide helpful error messages that explain what happened and when the user can try again. Include information about current usage and limits in response headers so clients can adjust their behavior proactively. Good error messages improve the developer experience and reduce support requests.</p>
<h3 id="implement-graceful-degradation">Implement Graceful Degradation<a class="headerlink" href="#implement-graceful-degradation" title="Permanent link">&para;</a></h3>
<p>Rather than simply rejecting requests when limits are exceeded, consider implementing graceful degradation. This might involve serving cached data, reducing the quality of responses, or queuing non-critical requests for later processing. This approach maintains some level of service even under high load.</p>
<h3 id="monitor-and-alert">Monitor and Alert<a class="headerlink" href="#monitor-and-alert" title="Permanent link">&para;</a></h3>
<p>Implement monitoring for rate limiting metrics including trigger rates, false positives (legitimate users being blocked), and system performance. Set up alerts for unusual patterns that might indicate attacks or misconfigurations. Regular analysis of rate limiting data can help optimize limits and identify potential improvements.</p>
<h3 id="consider-dynamic-limits">Consider Dynamic Limits<a class="headerlink" href="#consider-dynamic-limits" title="Permanent link">&para;</a></h3>
<p>Static rate limits work well for many use cases, but dynamic limits that adjust based on system load, user behavior, or time of day can provide better protection and user experience. For example, you might lower limits during peak hours or increase limits for users with consistently good behavior.</p>
<p>Rate limiting and throttling are essential tools for building robust, secure, and performant backend systems. While they add complexity to your application, the protection they provide against abuse, resource exhaustion, and performance degradation makes them indispensable for any production system that serves external users or APIs.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.sections", "navigation.tracking", "content.code.copy", "content.action.edit", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>